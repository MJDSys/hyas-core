{{ if os.FileExists "assets/js/app.js" -}}
  {{ partial "footer/esbuild" (dict "src" "js/app.js" "targetPath" "main.js" "load" "async" "transpile" false) -}}
{{ else -}}
  {{ partial "footer/esbuild" (dict "src" "js/core.js" "targetPath" "main.js" "load" "async" "transpile" false) -}}
{{ end -}}

{{/* EXAMPLE - only load script for production
{{ if eq (hugo.Environment) "production" -}}
  {{ partial "footer/esbuild" (dict "src" "js/instantpage.js" "load" "async" "transpile" false) -}}
{{ end -}}
*/}}

{{/* EXAMPLE - only load script for a page type e.g. contact or gallery
{{ if eq .Type "gallery" }}
  {{ partial "footer/esbuild" (dict "src" "js/gallery.js" "load" "async" "transpile" false) -}}
{{ end }}
*/}}
